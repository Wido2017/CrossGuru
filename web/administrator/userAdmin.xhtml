<!DOCTYPE html>

<!--管理员对用户进行管理-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>管理</title>
        <link rel="stylesheet" href="../resources/css/amazeui.css" />
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
        <link rel="stylesheet" href="../resources/css/core.css" />
        <link rel="stylesheet" href="../resources/css/menu.css" />
        <link rel="stylesheet" href="../resources/css/index.css" />
        <link rel="stylesheet" href="../resources/css/admin.css" />
        <link rel="stylesheet" href="../resources/css/typography.css" />
        <link rel="stylesheet" href="../resources/css/form.css" />
    </h:head>
    <h:body>
        <!-- Begin page -->
        <header class="am-topbar am-topbar-fixed-top">      
            <div class="contain2">
                <ul class="am-nav am-navbar-nav am-navbar-left">
                </ul>
                <ul class="am-nav am-navbar-nav am-navbar-right">
      
                    <li>
                        <!--                        <p:button value="注销" href="../home.xhtml"></p:button>-->
                        <h:form id="logoutForm">
                            <p:commandButton value="注销" actionListener="#{loginManger.adminLogoutListener}" action="#{loginManger.isLogout}" update="logoutForm" ></p:commandButton>
                        </h:form>
                    </li>
                </ul>
            </div>
        </header>
        <!-- end page -->
        <div class="admin">
           <p:layoutUnit position="left" style="border-right-width: 6px;width:20%;background-color: #E4E4E4" size="200px" resizable="false" gutter="0">
                <!-- User -->
                <div class="am-offcanvas-bar admin-offcanvas-bar">
                    <div class="user-box am-hide-sm-only">
                        <a class="logo"><span>Admin<span>to</span></span><i class="zmdi zmdi-layers"></i></a>

                        <div style="width:88px;height:88px;margin-left: 30%">
                            <img src="../resources/images/鲸鱼.jpg" alt="user-img" title="Mat Helme" class="img-circle img-thumbnail img-responsive"/>
                            <div class="user-status offline"><i class="am-icon-dot-circle-o" aria-hidden="true"></i></div>
                        </div>
                        <h5><a href="#">
                                <h:outputText value="ID: #{loginManger.loginAdministrator.id}"></h:outputText>
                                <br/>
                                <h:outputText value="姓名: #{loginManger.loginAdministrator.name}"></h:outputText>
                            </a> </h5>
                        <ul class="list-inline">
                            <li>
                                <a href="#">
                                    <i class="fa fa-cog" aria-hidden="true"></i>
                                </a>
                            </li>

                            <li>
                                <a href="#" class="text-custom">
                                    <i class="fa fa-cog" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>



                    <ul class="am-list admin-sidebar-list">
                        <li><a href="userAdmin.xhtml" class="atext">用户管理</a></li>
                        <li><a href="crossAdmin.xhtml" class="atext">路口管理</a></li>
                    </ul>
                </div>

            </p:layoutUnit>     
            <!-- Start right Content here -->
            <div class="content-page">
                <!-- Start content -->
                <div class="content">
                    <div class="card-box">
                        <!-- Row start -->
                        <div class="am-g">

                            <div class="am-u-sm-12 am-u-md-6">
                                <h:form id="PoliceDTForm">
                                    <div class="am-btn-toolbar">
                                        <div class="am-btn-group am-btn-group-xs">
                                            <h class="page-title">用户管理</h>

                                            <p:growl id="messages" showDetail="true" />

                                            <p:toolbar style="width: 1000px;">
                                                <f:facet name="left">

                                                    <p:commandButton id="deleteButton" icon="ui-icon-trash"   value="删除" 
                                                                     actionListener="#{policeController.destroy}" 
                                                                     update=":PoliceDTForm:policeTable :PoliceDTForm:deleteButton" 
                                                                     disabled="#{policeController.selected=null}">
                                                        <p:confirm header="提示" message="确定删除吗?" icon="ui-icon-alert" />
                                                    </p:commandButton>
                                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                                        <p:commandButton value="是" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                                        <p:commandButton value="否" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                                    </p:confirmDialog>
                                                </f:facet>
                                            </p:toolbar>

                                        </div>
                                    </div>

                                    <p:panel header="区域" style="width: 1000px;">
                                        <p:dataTable id="policeTable" value="#{policeController.items}" var="item" widgetVar="policeTable"
                                                     selectionMode="single" selection="#{policeController.selected}"
                                                     rowKey="#{item.id}"
                                                     rows="10"
                                                     paginator="true"
                                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                     >
                                            <p:column headerText="警察ID">
                                                <h:outputText value="#{item.id}" />
                                            </p:column>
                                            <p:column headerText="姓名" >
                                                <h:outputText value="#{item.name}" />
                                            </p:column>
                                            <p:column headerText="性别">
                                                <h:outputText value="#{item.sex}" />
                                            </p:column>
                                            <p:column headerText="电话">
                                                <h:outputText value="#{item.tel}" />
                                            </p:column>
                                            <p:column headerText="所属区域">
                                                <h:outputText value="#{item.areaId.location}" />
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>
                                </h:form>


                            </div>

                        </div>  

                    </div>

                    <!-- Row end -->
                </div>
            </div>
        </div>

    </h:body>

</html>
